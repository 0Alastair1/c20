name: damage_effect
id: jpt!
invaderStructName: DamageEffect
comments:
  en: >
    Properties for the application of damage including material modifiers,
    screen effects, acceleration, and area of effect.
  fields:
    - name: radius
      en: >
        The minimum radius determines the sphere in which damage is 100% of
        _damage upper bound_. Damage fades linearly to _damage lower bound_ at
        the maximum radius. Outside the maximum radius, 0 damage is dealt. The
        _aoe core radius_ field does not affect this calculation.
    - name: cutoff scale
      en: ...
    - name: flags
      en: ...
      fields:
        - name: do not scale damage by distance
          en: ...
    - name: type
      en: ...
      options:
        - name: none
          en: ...
        - name: lighten
          en: ...
        - name: darken
          en: ...
        - name: max
          en: ...
        - name: min
          en: ...
        - name: invert
          en: ...
        - name: tint
          en: ...
    - name: priority
      en: ...
      options:
        - name: low
          en: ...
        - name: medium
          en: ...
        - name: high
          en: ...
    - name: duration
      en: ...
    - name: fade function
      en: ...
      options:
        - name: linear
          en: ...
        - name: early
          en: ...
        - name: very early
          en: ...
        - name: late
          en: ...
        - name: very late
          en: ...
        - name: cosine
          en: ...
    - name: maximum intensity
      en: ...
    - name: color
      en: ...
    - name: low frequency vibrate frequency
      en: ...
    - name: low frequency vibrate duration
      en: ...
    - name: low frequency vibrate fade function
      en: ...
      options:
        - name: linear
          en: ...
        - name: early
          en: ...
        - name: very early
          en: ...
        - name: late
          en: ...
        - name: very late
          en: ...
        - name: cosine
          en: ...
    - name: high frequency vibrate frequency
      en: ...
    - name: high frequency vibrate duration
      en: ...
    - name: high frequency vibrate fade function
      en: ...
      options:
        - name: linear
          en: ...
        - name: early
          en: ...
        - name: very early
          en: ...
        - name: late
          en: ...
        - name: very late
          en: ...
        - name: cosine
          en: ...
    - name: temporary camera impulse duration
      en: ...
    - name: temporary camera impulse fade function
      en: ...
      options:
        - name: linear
          en: ...
        - name: early
          en: ...
        - name: very early
          en: ...
        - name: late
          en: ...
        - name: very late
          en: ...
        - name: cosine
          en: ...
    - name: temporary camera impulse rotation
      en: ...
    - name: temporary camera impulse pushback
      en: ...
    - name: jitter
      en: ...
    - name: permanent camera impulse angle
      en: ...
    - name: camera shaking duration
      en: >
        Controls how long camera shaking lasts. On PC, short camera shakes (0.05)
        get skipped occasionally at high FPS since this feature is still
        [tied to frame rate][renderer#pc-regressions]. This is fixed and interpolated
        by [Chimera][].
    - name: camera shaking falloff function
      en: ...
      options:
        - name: linear
          en: ...
        - name: early
          en: ...
        - name: very early
          en: ...
        - name: late
          en: ...
        - name: very late
          en: ...
        - name: cosine
          en: ...
    - name: camera shaking random translation
      en: ...
    - name: camera shaking random rotation
      en: ...
    - name: camera shaking wobble function
      en: ...
      options:
        - name: one
          en: ...
        - name: zero
          en: ...
        - name: cosine
          en: ...
        - name: cosine variable period
          en: ...
        - name: diagonal wave
          en: ...
        - name: diagonal wave variable period
          en: ...
        - name: slide
          en: ...
        - name: slide variable period
          en: ...
        - name: noise
          en: ...
        - name: jitter
          en: ...
        - name: wander
          en: ...
        - name: spark
          en: ...
    - name: camera shaking wobble period
      en: ...
    - name: camera shaking wobble weight
      en: ...
    - name: sound
      en: ...
    - name: breaking effect forward velocity
      en: ...
    - name: breaking effect forward radius
      en: ...
    - name: breaking effect forward exponent
      en: ...
    - name: breaking effect outward velocity
      en: ...
    - name: breaking effect outward radius
      en: ...
    - name: breaking effect outward exponent
      en: ...
    - name: damage side effect
      en: ...
      options:
        - name: none
          en: ...
        - name: harmless
          en: ...
        - name: lethal to the unsuspecting
          en: ...
        - name: emp
          en: ...
    - name: damage category
      en: ...
      options:
        - name: none
          en: ...
        - name: falling
          en: ...
        - name: bullet
          en: ...
        - name: grenade
          en: ...
        - name: high explosive
          en: ...
        - name: sniper
          en: ...
        - name: melee
          en: ...
        - name: flame
          en: ...
        - name: mounted weapon
          en: ...
        - name: vehicle
          en: ...
        - name: plasma
          en: ...
        - name: needle
          en: ...
        - name: shotgun
          en: ...
    - name: damage flags
      en: ...
      fields:
        - name: does not hurt owner
          en: ...
        - name: can cause headshots
          en: >
            If enabled, any headshot against an unshielded enemy will kill it
            regardless of the amount of damage inflicted. Even a 1-damage pistol
            still instantly kills a Hunter because of this flag. It is an instant
            kill even if the shield threshold is met with a headshot (after
            shields have been reduced to 0 by the damage effect but health is
            full). For example, even though the pistol deals 25 damage and players
            have 75 shield vitality, if the final shot is a headshot the player dies.

            Although there is also a _can cause multiplayer headshots_ flag,
            it has a separate meaning and this flag applies to both SP and MP.

            A model's headshot area is determined by its `head` [region][gbxmodel#regions].
        - name: pings resistant units
          en: ...
        - name: does not hurt friends
          en: ...
        - name: does not ping units
          en: ...
        - name: detonates explosives
          en: >
            If enabled, causes the effect to trigger the explosion of dropped
            grenades within its radius, used for explosion chaining. This only
            applies to maps loaded in singleplayer mode. Note that the [item][]
            receiving damage (e.g. the grenade [equipment][]) must also have its
            _destroyed by explosions_ flag enabled. If the grenade has been placed
            within the scenario in Sapien, the _does accelerate_ flag will also
            need to be checked in the properties window.
        - name: only hurts shields
          en: ...
        - name: causes flaming death
          en: ...
        - name: damage indicators always point down
          en: ...
        - name: skips shields
          en: ...
        - name: only hurts one infection form
          en: ...
        - name: can cause multiplayer headshots
          en: >
            Applies a 2x damage multiplier to headshots in multiplayer (based on
            how the map was loaded, not scenario type). This multiplier stacks
            with material modifiers below, so for example a cyborg armor modifier
            of 2 with this flag enabled results in a 4x headshot damage modifier.

            A model's headshot area is determined by its `head` [region][gbxmodel#regions].
        - name: infection form pop
          en: ...
    - name: damage aoe core radius
      en: >
        Objects within this radius will be damaged regardless of obstructions
        in the [BSP][scenario_structure_bsp]. Outside this radius, there must
        be a line of sight between the effect and target. Contrary to the Guerilla
        tooltip, this field does not determine if the damage has an area of effect;
        see _radius_.
    - name: damage lower bound
      en: >
        Sets the minimum amount of damage done when this effect is applied in a
        scaled way. For example, projectiles can have min and max damage ranges
        for air and water.
    - name: damage upper bound
      en: Maximum damage will be randomly chosen from this range.
    - name: damage vehicle passthrough penalty
      en: ...
    - name: damage active camouflage damage
      en: ...
    - name: damage stun
      en: ...
    - name: damage maximum stun
      en: ...
    - name: damage stun time
      en: ...
    - name: damage instantaneous acceleration
      en: >
        Controls how much moveable objects are accelerated by this effect. This
        is scaled by the _acceleration scale_ field of [object][].
    - name: dirt
      en: ...
    - name: sand
      en: ...
    - name: stone
      en: ...
    - name: snow
      en: ...
    - name: wood
      en: ...
    - name: metal hollow
      en: ...
    - name: metal thin
      en: ...
    - name: metal thick
      en: ...
    - name: rubber
      en: ...
    - name: glass
      en: ...
    - name: force field
      en: ...
    - name: grunt
      en: ...
    - name: hunter armor
      en: ...
    - name: hunter skin
      en: ...
    - name: elite
      en: ...
    - name: jackal
      en: ...
    - name: jackal energy shield
      en: ...
    - name: engineer skin
      en: ...
    - name: engineer force field
      en: ...
    - name: flood combat form
      en: ...
    - name: flood carrier form
      en: ...
    - name: cyborg armor
      en: >
        Also labeled as simply **cyborg** in Guerilla. Used to modify damage
        on all body parts of the cyborg (spartan) biped.
    - name: cyborg energy shield
      en: >
        Damage modifier for the "cyborg energy shield" material type. See the
        _shield material type_ field of the unit's [model_collision_geometry][]
        tag.
    - name: human armor
      en: ...
    - name: human skin
      en: ...
    - name: sentinel
      en: ...
    - name: monitor
      en: ...
    - name: plastic
      en: ...
    - name: water
      en: ...
    - name: leaves
      en: ...
    - name: elite energy shield
      en: >
        Damage modifier for the "elite energy shield" material type. See the
        _shield material type_ field of the unit's [model_collision_geometry][]
        tag. Note that this field receives a
        [hard-coded singleplayer adjustment][tool#hardcoded-tag-patches]
        at map compile time for the pistol's damage effect.
    - name: ice
      en: ...
    - name: hunter shield
      en: ...
